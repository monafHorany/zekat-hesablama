<ion-header class="ion-no-border">
  <ion-toolbar color="primary" class="ion-text-center" mode="ios">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/home/zekat-category" text=""></ion-back-button>
    </ion-buttons>
    <ion-title >{{catEl?.category_name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content >
  <div>
    <img src="assets/images/operations.png" alt="operations">
  </div>
  
  <ion-grid *ngIf='cat_ops?.length !== 0 && currencyList'>
    <ion-row *ngFor='let operation of cat_ops' class="ion-no-padding ion-no-margin">
      <ion-col size="12" >
        <ion-card *ngIf='catEl?.id == 1' class="ion-no-padding ion-no-margin" style="border-radius: 5px;">
          <ion-card-header class="ion-text-center" style="display: flex; justify-content: space-around">
            <ion-item>
            <ion-card-subtitle>عيار 24</ion-card-subtitle>
            </ion-item>
            <ion-item>
            <ion-card-subtitle>عيار 21</ion-card-subtitle>
            </ion-item>
            <ion-item>
            <ion-card-subtitle>عيار 18</ion-card-subtitle>
            </ion-item>
          </ion-card-header>
          <ion-card-content style="display: flex; justify-content: space-around" class="ion-text-center">
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_1 ? 0 : operation?.d_val_1}} جرام</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_2 ? 0 : operation?.d_val_2}}  جرام</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_3 ? 0 : operation?.d_val_3}} جرام</ion-card-subtitle>
            </ion-item>
          </ion-card-content>
          <ion-item color="warning" class="ion-text-center">
          <ion-label>مقدار الزكاة {{((operation?.d_val_1 + operation?.d_val_2*(21/24) + operation?.d_val_3*(18/24))* goldPrice *0.025).toFixed(0)}} {{translatedCurrencyName}}</ion-label>
          <ion-icon name="trash" (click)="presentAlertConfirm(operation?.id)" size="large" color="primary"></ion-icon>
          </ion-item>
        </ion-card>
        <ion-card *ngIf='catEl?.id == 2' class="ion-no-padding ion-no-margin">
          <ion-card-header class="ion-text-center" style="display: flex; justify-content: space-around">
            <ion-item>
              <ion-card-subtitle>المبلغ</ion-card-subtitle>
            </ion-item>
          </ion-card-header>
          <ion-card-content style="display: flex; justify-content: space-around" class="ion-text-center">
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_1 ? 0 : operation?.d_val_1}}{{getMoneyCurrencyName(operation?.currency_type)}}</ion-card-subtitle>
            </ion-item>
          </ion-card-content>
          <ion-item color="warning" class="ion-text-center">
            <ion-label>مقدار الزكاة {{operation?.currency_type == currentBase ? (operation?.d_val_1 * 0.025) : ((this.operation?.d_val_1 * (1/this.allRates.rates.rates[operation?.currency_type]) * this.allRates.rates.rates[this.currentBase])*0.025).toFixed(2)}} {{translatedCurrencyName}}</ion-label>
            <ion-icon name="trash" (click)="presentAlertConfirm(operation?.id)" size="large" color="primary"></ion-icon>
          </ion-item>
        </ion-card>
        <ion-card *ngIf='catEl?.id == 3' class="ion-no-padding ion-no-margin">
          <ion-card-header class="ion-text-center" style="display: flex; justify-content: space-around">
            <ion-item>
              <ion-card-subtitle>اسم العرض</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>قيمة العرض</ion-card-subtitle>
            </ion-item>
          </ion-card-header>
          <ion-card-content style="display: flex; justify-content: space-around" class="ion-text-center">
            <ion-item>
              <ion-card-subtitle *ngIf="operation.name!=undefined">{{operation?.name}} </ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>{{operation?.d_val_1}} {{ translatedCurrencyName }}</ion-card-subtitle>
            </ion-item>
          </ion-card-content>
          <ion-item color="warning" class="ion-text-center">
            <ion-label>مقدار الزكاة {{(operation?.d_val_1 * 0.025).toFixed(0)}} {{ translatedCurrencyName }}</ion-label>
            <ion-icon name="trash" (click)="presentAlertConfirm(operation?.id)" size="large" color="primary"></ion-icon>
          </ion-item>
        </ion-card>
        <ion-card *ngIf='catEl?.id == 4' class="ion-no-padding ion-no-margin">
          <ion-card-header class="ion-text-center" style="display: flex; justify-content: space-around">
            <ion-item>
              <ion-card-subtitle>مقدار الفضة</ion-card-subtitle>
            </ion-item>
         </ion-card-header>
          <ion-card-content style="display: flex; justify-content: space-around" class="ion-text-center">
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_1 ? 0 : operation?.d_val_1}} جرام</ion-card-subtitle>
            </ion-item>
          </ion-card-content>
          <ion-item color="warning" class="ion-text-center">
            <ion-label>مقدار الزكاة {{((operation?.d_val_1) * silverPrice * 0.025).toFixed(0)}} {{translatedCurrencyName }}</ion-label>
            <ion-icon name="trash" (click)="presentAlertConfirm(operation?.id)" size="large" color="primary"></ion-icon>
          </ion-item>
        </ion-card>
        <ion-card *ngIf='catEl?.id == 5' class="ion-no-padding ion-no-margin">
          <ion-card-header class="ion-text-center" style="display: flex; justify-content: space-around">
            <ion-item>
              <ion-card-subtitle>اسم السهم</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>قيمة السهم</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>عدد الاسهم</ion-card-subtitle>
            </ion-item>
          </ion-card-header>
          <ion-card-content style="display: flex; justify-content: space-around" class="ion-text-center">
            <ion-item>
              <ion-card-subtitle *ngIf="operation.name!=undefined">{{operation?.name}}</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_1 ? 0 : operation?.d_val_1}}  {{translatedCurrencyName}} </ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_2 ? 0 : operation?.d_val_2}} سهم </ion-card-subtitle>
            </ion-item>
          </ion-card-content>
          <ion-item color="warning" class="ion-text-center">
            <ion-label>مقدار الزكاة {{((operation?.d_val_1 * operation?.d_val_2) * 0.025).toFixed(0)}} {{translatedCurrencyName }}</ion-label>
            <ion-icon name="trash" (click)="presentAlertConfirm(operation?.id)" size="large" color="primary"></ion-icon>
          </ion-item>
        </ion-card>
        <ion-card *ngIf='catEl?.id == 6' class="ion-no-padding ion-no-margin">
          <ion-card-header class="ion-text-center" style="display: flex; justify-content: space-around">
            <ion-item>
              <ion-card-subtitle>اسم الصندوق</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>قيمة الصندوق</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>عدد الصناديق</ion-card-subtitle>
            </ion-item>
          </ion-card-header>
          <ion-card-content style="display: flex; justify-content: space-around" class="ion-text-center">
            <ion-item>
              <ion-card-subtitle *ngIf="operation.name!=undefined">{{operation?.name}}</ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_1 ? 0 : operation?.d_val_1}} {{translatedCurrencyName}} </ion-card-subtitle>
            </ion-item>
            <ion-item>
              <ion-card-subtitle>{{!operation?.d_val_2 ? 0 : operation?.d_val_2}} صندوق </ion-card-subtitle>
            </ion-item>
          </ion-card-content>
          <ion-item color="warning" class="ion-text-center">
            <ion-label>مقدار الزكاة {{((operation?.d_val_1 * operation?.d_val_2) * 0.025).toFixed(0)}} {{translatedCurrencyName }}</ion-label>
            <ion-icon name="trash" (click)="presentAlertConfirm(operation?.id)" size="large" color="primary"></ion-icon>
          </ion-item>
        </ion-card>
      </ion-col>
    </ion-row>
    <ion-card>

    </ion-card>
  </ion-grid>
</ion-content>
